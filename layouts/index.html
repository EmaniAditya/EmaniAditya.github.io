{{ define "main" }}
<section id="hero" style="display:flex; align-items:center; gap:16px; margin-bottom: 24px;">
  <img src="/img/profile-photo.jpg" alt="E S Aaditya Reddy" style="width:96px; height:96px; border-radius:50%; object-fit:cover;" />
  <div>
    <h1 style="margin: 0 0 4px 0;">{{ .Site.Title }}</h1>
    <p style="margin: 0;">{{ with .Site.Params.description }}{{ . }}{{ end }}</p>
  </div>
</section>

<section id="about">
  {{ .Content }}
</section>

<hr />

<section id="recent-posts">
  <h2>Recent Posts</h2>
  {{ $posts := where .Site.RegularPages "Section" "posts" }}
  {{ if gt (len $posts) 0 }}
    <ul class="blog-posts">
      {{ range first 5 $posts }}
        <li>
          <span>
            <time datetime='{{ .Date.Format "2006-01-02" }}' pubdate>{{ .Date.Format "2006-01-02" }}</time>
          </span>
          <a href='{{ .RelPermalink }}'>{{ .Title }}</a>
        </li>
      {{ end }}
    </ul>
    <p><a href="/posts/">All posts →</a></p>
  {{ else }}
    <p>No posts yet. <a href="/posts/">Go to blog</a></p>
  {{ end }}
</section>

<hr />

<section id="projects">
  <h2>Projects</h2>
  {{ $projects := where .Site.RegularPages "Section" "projects" }}
  {{ if gt (len $projects) 0 }}
    <ul>
      {{ range first 6 $projects }}
        <li><a href='{{ .RelPermalink }}'>{{ .Title }}</a>{{ with .Params.tagline }} — {{ . }}{{ end }}</li>
      {{ end }}
    </ul>
    <p><a href="/projects/">All projects →</a></p>
  {{ else }}
    <p>Project pages coming soon.</p>
  {{ end }}
</section>
{{ end }}
